<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="login.css">
  <title>Blu.AI</title>
</head>
<body>

<div style="width: 1440px; height: 731px; left: 0px; top: 0px; position: absolute; background:linear-gradient(0deg, #000728 0%, #000728 100%), linear-gradient(0deg, rgba(0, 0, 0, 0.20) 0%, rgba(0, 0, 0, 0.20) 100%)">
    <img style="width: 1887px; height: 800px; left: -167px; top: -95px; position: absolute; opacity: 0.5;" src="loginbg.jpg" />
    <div style="width: 451px; height: 385px; left: 828px; top: 252px; position: absolute; opacity: 0.5; background: #C2CEFF; border-radius: 25px"></div>
    <div style="width: 546px; left: 140px; top: 404px; position: absolute; text-align: center; color: #C2CEFF; font-size: 36px; font-family: Poppins; font-weight: 700; word-wrap: break-word">The Blueprint to the Future of Filipino Homes.</div>
    <div style="width: 165px; left: 330px; top: 340px; position: absolute; text-align: center; color: #7D94F7; font-size: 16px; font-family: Poppins; font-weight: 400; word-wrap: break-word">Budgeting Tool</div>
    
    <!-- Login Form -->
    <form action="homepage.html" method="get" class="login-box">
        <div style="width: 388px; height: 50px; left: 860px; top: 408px; position: absolute; background: white; border-radius: 10px"></div>
        <div style="width: 388px; height: 50px; left: 860px; top: 328px; position: absolute; background: white; border-radius: 10px"></div>
        <div style="width: 88px; height: 35px; left: 866px; top: 340px; position: absolute; text-align: center; color: black; font-size: 16px; font-family: Poppins; font-weight: 400; word-wrap: break-word">
            <input type="email" id="email" name="email" placeholder="Please Input Your Email" style="width: 230px; height: 25px; margin-left: 10px; border: none;" required>
        </div>
        <div style="width: 88px; height: 35px; left: 866px; top: 420px; position: absolute; text-align: center; color: black; font-size: 16px; font-family: Poppins; font-weight: 400; word-wrap: break-word">
            <input type="password" id="password" name="password" placeholder="Please Input Your Password" style="width: 230px; height: 25px; margin-left: 10px; border: none;" required>
        </div>
        <div style="width: 388px; height: 48px; left: 860px; top: 495px; position: absolute;">
            <button type="submit" id="login" class="btn-signup" style="display: block; width: 100%; height: 100%; background: black; border-radius: 10px; color: white; text-align: center; line-height: 48px;">Log In</button>
        </div>
        <div style="width: 329px; height: 56px; left: 887px; top: 573px; position: absolute; text-align: center; color: black; font-size: 17px; font-family: Poppins; font-weight: 300; word-wrap: break-word">Don't have an account?,<br/>Click here to <a href="signup.html">Sign Up</div></a>
        <div style="width: 286px; height: 470px; left: 27px; top: 28px; position: absolute">
            <div style="left: 200px; top: 25px; position: absolute; color: white; font-size: 22px; font-family: Agrandir; font-weight: 300; word-wrap: break-word">BLU.AI</div>
            <img style="width: 59px; height: 69px; left: 126px; top: 6px; position: absolute" src="Blu.png" alt="BLU.AI Logo" />
        </div>
        <div style="width: 1440px; height: 240px; left: 0px; top: 730px; position: absolute; background: #D9D9D9"></div>
        <div style="width: 383px; height: 73px; left: 140px; top: 840px; position: absolute">
            <span style="color: black; font-size: 25px; font-family: Inter; font-weight: 700; word-wrap: break-word">Contact us<br/></span>
            <span style="color: black; font-size: 25px; font-family: Inter; font-weight: 400; word-wrap: break-word">admin@bluai.org</span>
        </div>
        <div style="width: 187px; height: 35px; left: 960px; top: 275px; position: absolute; text-align: center; color: black; font-size: 20px; font-family: Poppins; font-weight: 400; word-wrap: break-word">Log In to BLU.AI</div>
    </form>
    <div style="width: 238px; height: 34px; left: 927px; top: 508px; position: absolute; text-align: center; color: white; font-size: 16px; font-family: Inter; font-weight: 400; word-wrap: break-word"></div>
    <div style="width: 286px; height: 470px; left: 27px; top: 28px; position: absolute">
        <div style="left: 200px; top: 25px; position: absolute; color: white; font-size: 22px; font-family: Agrandir; font-weight: 300; word-wrap: break-word">BLU.AI</div>
        <img style="width: 59px; height: 69px; left: 126px; top: 6px; position: absolute" src="Blu.png" />
    </div>
    <div style="width: 1440px; height: 240px; left: 0px; top: 730px; position: absolute; background: #D9D9D9"></div>
    <div style="width: 383px; height: 73px; left: 140px; top: 840px; position: absolute"><span style="color: black; font-size: 25px; font-family: Inter; font-weight: 700; word-wrap: break-word">Contact us<br/></span><span style="color: black; font-size: 25px; font-family: Inter; font-weight: 400; word-wrap: break-word">admin@bluai.org</span></div>
</div>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getDatabase, ref, set, get, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyCyNUw4nNjdwbPK2XDBGF-SrXH74arP3oY",
        authDomain: "loginbai.firebaseapp.com",
        projectId: "loginbai",
        storageBucket: "loginbai.appspot.com",
        messagingSenderId: "70771945494",
        appId: "1:70771945494:web:ed98501cfe9b3e7400c537"
    };
    // Initialize Firebase
    var app = initializeApp(firebaseConfig);
    var db = getDatabase(app);

    function handleSubmit(event) {
        event.preventDefault();
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        // Check if the email exists in the database
        const userRef = ref(db, 'user/' + email.replace(/\./g, '_'));
        get(userRef).then((snapshot) => {
            if (snapshot.exists()) {
                const userData = snapshot.val();
                if (userData.password === password) {
                    alert("Login Successful!");
                    window.location.href = "homepage.html"; // Navigate to homepage on success
                } else {
                    alert("Incorrect password!");
                }
            } else {
                alert("User not found!");
            }
        }).catch((error) => {
            console.error("Error fetching user data: ", error);
        });
    }

    window.addEventListener('DOMContentLoaded', () => {
        const form = document.querySelector(".login-box");
        form.addEventListener("submit", handleSubmit);
    });
</script>
</body>
</html>
